(this.webpackJsonparchitecture=this.webpackJsonparchitecture||[]).push([[0],{126:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),c=a(21),n=a.n(c),o=a(7),i=a(8),l=a(9),j=a(10),d=a(4),h=a(11),u=a(13),p=a(12),b=a.n(p),m=a(15),O=a(23),x=a.n(O),v="GET_ERRORS",g="GET_TOKEN",f="GET_USERS",y="GET_MESSAGE",N="GET_USER",k="GET_PROJECTS",C="GET_PROJECT",w="GET_PROGRESS",P=a(44),S=function(e){e&&(x.a.defaults.headers.common.Authorization=e)},q=x.a.create({baseURL:"https://architecture-manager-web.herokuapp.com",headers:{Accept:"*/*","Content-Type":"application/json"}});q.interceptors.request.use((function(e){if("/uz/cas/login"!==e.url){var t=localStorage.getItem("jwtToken");e.headers.Authorization="".concat(t)}return e}),(function(e){return Promise.reject(e)})),q.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var z=q,M=function(e){return{type:g,payload:e}},L=a(1),R=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={errors:{},username:"",password:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e.getErrors=e.getErrors.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.getToken(t)}},{key:"componentWillReceiveProps",value:function(e){if(e.auth.validToken)switch(e.auth.token.role[0].roleName){case"admin":e.history.push("/derictor");break;case"gip":e.history.push("/gipProject");break;case"user":e.history.push("/users");break;default:e.history.push("/")}e.errors&&this.setState({errors:e.errors.errors})}},{key:"getErrors",value:function(e){if(e){if(e.invalid)return Object(L.jsx)("div",{className:"pb-3 pt-3",children:Object(L.jsx)("div",{className:"alert alert-danger text-center m-auto",role:"alert",children:e.invalid})});if(e.username)return Object(L.jsx)("div",{className:"pb-3 pt-3",children:Object(L.jsx)("div",{className:"alert alert-danger text-center m-auto",role:"alert",children:e.username})})}}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsx)("img",{className:"bacgimg",src:"./images/bacgimg.jpg",alt:"qurilish"}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("div",{className:"col-md-4 offset-4 login",children:Object(L.jsxs)("form",{className:"m-5 login-form",onSubmit:this.onSubmit,children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",children:"Loyihalar Boshqaruvi"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"username",type:"text",placeholder:"Login",onChange:this.onChange})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"password",type:"password",placeholder:"password",onChange:this.onChange})}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",children:"Kirish"})]})})})]})}}]),a}(s.Component),I=Object(u.b)((function(e){return{errors:e.errors,auth:e.auth}}),{getToken:function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.post("/uz/cas/login",e);case 3:return s=t.sent,t.next=6,s.data.body;case 6:return r=t.sent,S(r),t.next=10,Object(P.a)(r);case 10:c=t.sent,localStorage.setItem("jwtToken",r),a(M(c)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),a({type:v,payload:t.t0.data});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()}})(R),F=a(20),E=a(17),T=(a(125),a(126),function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/uz/cas/user");case 3:a=e.sent,t({type:f,payload:a.data.body}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:v,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),U=function(e,t,a){return function(){var s=Object(m.a)(b.a.mark((function s(r){var c;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e,a),s.prev=1,s.next=4,z.post("/uz/cas/user/".concat(a),e);case 4:c=s.sent,r({type:y,payload:c.data.body}),t.push("/admin"),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),r({type:v,payload:s.t0.data});case 12:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},A=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={firstName:"",lastName:"",job:"",username:"",password:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={firstName:this.state.firstName,lastName:this.state.lastName,job:this.state.job,username:this.state.username,password:this.state.password};this.props.addUser(t,this.props.history)}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsx)("img",{className:"bacgimg",src:"./images/bacgimg.jpg",alt:"qurilish"}),Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("div",{className:"col-md-4 offset-4 register",children:[Object(L.jsx)(F.b,{to:"/admin",children:Object(L.jsx)("img",{src:"../images/backspace-solid.svg",className:"backspace",alt:"ortga qaytish"})}),Object(L.jsxs)("form",{className:"m-5 register-form",onSubmit:this.onSubmit,children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",children:"Loyihalar Boshqaruvi"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"firstName",type:"text",onChange:this.onChange,placeholder:"Ismingiz"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"lastName",type:"text",onChange:this.onChange,placeholder:"Familiyangiz"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"job",type:"text",onChange:this.onChange,placeholder:"Lavozimingiz"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"username",type:"text",onChange:this.onChange,placeholder:"Login"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"password",type:"password",onChange:this.onChange,placeholder:"password"})}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",type:"submit",children:"Ro'yhatdan o'tqazish"})]})]})})]})}}]),a}(s.Component),D=Object(u.b)(null,{addUser:function(e,t){return function(){var a=Object(m.a)(b.a.mark((function a(s){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.prev=1,a.next=4,z.post("/uz/cas/user",e);case 4:r=a.sent,s({type:y,payload:r.data.body}),t.push("/admin"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),s({type:v,payload:a.t0.data});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})(A),B=function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("https://architecture-manager-web.herokuapp.com/uz/cas/project/".concat(e));case 3:s=t.sent,console.log(s),a({type:y,payload:s.data.body}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:v,payload:t.t0.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("https://architecture-manager-web.herokuapp.com/uz/cas/project/user",{username:e});case 3:s=t.sent,a({type:k,payload:s.data.body}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:v,payload:t.t0.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Y=a(31),V=a.n(Y),W=a(40),_=a(146);function J(e){return(e=Array.isArray(e)?e:[]).map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}))}var K=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).heandleChange=function(t){e.setState({selectOption:t})},e.heandleChanged=function(t){e.setState({projectController:t})},e.state={id:null,selectOption:null,projectController:null,projectName:"",projectCreat:"",projectFinish:"",users:[],edit:!1},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onChangecreat=e.onChangecreat.bind(Object(h.a)(e)),e.onChangeupdate=e.onChangeupdate.bind(Object(h.a)(e)),e.onEditSubmit=e.onEditSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"onChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onChangecreat",value:function(e,t){this.setState({projectCreat:t})}},{key:"onChangeupdate",value:function(e,t){this.setState({projectFinish:t})}},{key:"onEditSubmit",value:function(e){e.preventDefault();var t,a={projectName:this.state.projectName,projectCreated:this.state.projectCreat,projectFinished:this.state.projectFinish,projectManager:this.state.projectController.value,usersList:(t=this.state.selectOption,t.map((function(e){return e.value})))};this.props.editProject(this.state.id,a)}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.project.id,projectName:e.project.projectName,projectCreat:e.project.projectCreated,projectFinish:e.project.projectFinished})}},{key:"render",value:function(){console.log(this.props.project);var e=this.props.project,t=J(e.usersList);return Object(L.jsx)("div",{className:"modal",id:"editProjectModal",children:Object(L.jsx)("div",{className:"modal-dialog",children:Object(L.jsxs)("div",{className:"modal-content",children:[Object(L.jsxs)("div",{className:"create-project",children:[Object(L.jsx)("div",{className:"row m-5",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",children:"Loyihalar Boshqaruvi"})}),Object(L.jsxs)("form",{className:"m-5 w-100",children:[Object(L.jsx)("div",{className:"row w-100",children:Object(L.jsx)("input",{className:"projectName",name:"projectName",type:"text",onChange:this.onChange,placeholder:"Project Name",defaultValue:this.state.projectName})}),Object(L.jsx)(W.a,{className:"w-100",onChange:this.heandleChanged,defaultValue:[{label:"".concat(e.projectManager.firstName," ").concat(e.projectManager.lastName),value:e.projectManager.id}],options:J(this.props.users)}),Object(L.jsx)(_.a,{className:" w-100",name:"projectCreat",value:V()(this.state.projectCreat,"YYYY-MM-DD"),onChange:this.onChangecreat,placeholder:"Created project"}),Object(L.jsx)(_.a,{className:"w-100 mb-3",name:"projectFinish",value:V()(this.state.projectFinish,"YYYY-MM-DD"),onChange:this.onChangeupdate,placeholder:"Finished project"}),Object(L.jsx)(W.a,{className:"mb-3 w-100",isMulti:!0,onChange:this.heandleChange,options:J(this.props.users),defaultValue:t}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",type:"button","data-dismiss":"modal",onClick:this.onEditSubmit,children:"O'zgartirish"})]})]}),Object(L.jsx)("div",{className:"modal-footer",children:Object(L.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})}}]),a}(s.Component),H=Object(u.b)((function(e){return{users:e.UsersReducer.users}}),{getUsers:T,deleteProject:B,editProject:function(e,t){return function(){var a=Object(m.a)(b.a.mark((function a(s){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e,t),a.prev=1,a.next=4,x.a.put("https://architecture-manager-web.herokuapp.com/uz/cas/project/".concat(e),t);case 4:r=a.sent,s({type:y,payload:r.data.body}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),s({type:v,payload:a.t0.data});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}})(K);function Q(e){return(e=Array.isArray(e)?e:[]).map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}))}var X=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).heandleChange=function(t){e.setState({selectOption:t})},e.heandleChanged=function(t){e.setState({projectController:t})},e.state={id:null,selectOption:null,projectController:null,projectName:"",projectCreat:"",projectFinish:"",users:[],edit:!1},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e.onChangecreat=e.onChangecreat.bind(Object(h.a)(e)),e.onChangeupdate=e.onChangeupdate.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"onChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onChangecreat",value:function(e,t){this.setState({projectCreat:t})}},{key:"onChangeupdate",value:function(e,t){this.setState({projectFinish:t})}},{key:"onSubmit",value:function(e){e.preventDefault();var t,a={projectName:this.state.projectName,projectCreated:this.state.projectCreat,projectFinished:this.state.projectFinish,projectManager:this.state.projectController.value,usersList:(t=this.state.selectOption,t.map((function(e){return e.value})))};this.props.createProject(a)}},{key:"render",value:function(){var e=this.props.users;return console.log(e),Object(L.jsx)("div",{className:"modal",id:"creatProjectModal",children:Object(L.jsx)("div",{className:"modal-dialog",children:Object(L.jsxs)("div",{className:"modal-content",children:[Object(L.jsxs)("div",{className:"create-project",children:[Object(L.jsx)("div",{className:"row m-5",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",children:"Loyihalar Boshqaruvi"})}),Object(L.jsxs)("form",{className:"m-5 w-100",children:[Object(L.jsx)("div",{className:"row w-100",children:Object(L.jsx)("input",{className:"projectName",name:"projectName",type:"text",onChange:this.onChange,placeholder:"Project Name"})}),Object(L.jsx)(W.a,{className:"w-100",onChange:this.heandleChanged,options:Q(e)}),Object(L.jsx)(_.a,{className:" w-100",name:"projectCreat",onChange:this.onChangecreat,placeholder:"Created project"}),Object(L.jsx)(_.a,{className:"w-100 mb-3",name:"projectFinish",onChange:this.onChangeupdate,placeholder:"Finished project"}),Object(L.jsx)(W.a,{className:"mb-3 w-100",isMulti:!0,onChange:this.heandleChange,options:Q(e)}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",type:"button","data-dismiss":"modal",onClick:this.onSubmit,children:"Ro'yhatdan o'tqazish"})]})]}),Object(L.jsx)("div",{className:"modal-footer",children:Object(L.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})}}]),a}(s.Component),Z=Object(u.b)((function(e){return{users:e.UsersReducer.users}}),{createProject:function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("https://architecture-manager-web.herokuapp.com/uz/cas/project",e);case 3:s=t.sent,console.log(s),a({type:y,payload:s.data.body}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:v,payload:t.t0.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getUsers:T,deleteProject:B})(X),$=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={project:{}},e.deleteProject=e.deleteProject.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"admin"!==this.props.token.role[0].roleName?this.props.history.push("/"):this.props.getProjects()}},{key:"onClick",value:function(e){this.setState({project:e})}},{key:"deleteProject",value:function(e){this.props.deleteProject(e)}},{key:"projectStateClear",value:function(){this.setState({project:{}})}},{key:"render",value:function(){var e,t=this,a=0;return console.log(this.props.projects),this.props.projects.length>0&&(e=this.props.projects.map((function(e){return a+=1,Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:a}),Object(L.jsxs)("td",{children:[e.projectManager.firstName," ",e.projectManager.lastName]}),Object(L.jsx)("td",{children:e.projectName}),Object(L.jsx)("td",{style:{maxWidth:"300px"},children:e.usersList.map((function(e){return Object(L.jsxs)("p",{className:"m-0 p-0",children:[e.firstName," ",e.lastName]},e.id)}))}),Object(L.jsxs)("td",{style:{width:"150px"},children:[Object(L.jsx)("p",{children:e.projectCreated})," ",Object(L.jsx)("p",{children:e.projectFinished})]}),Object(L.jsxs)("td",{children:[Object(L.jsxs)("button",{className:"btn btn-danger p-1 pl-3 mr-3 pr-3 text-light",onClick:function(){return t.deleteProject(e.id)},children:["Delete",Object(L.jsx)("span",{className:"fas fa-trash ml-3"})]}),Object(L.jsxs)("button",{type:"button",className:"btn btn-warning p-1 pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#editProjectModal",onClick:function(){return t.onClick(e)},children:["Edit ",Object(L.jsx)("span",{className:"fas fa-edit ml-2"})]})]})]},e.id)}))),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsx)("div",{className:"row derictor-navbar",children:Object(L.jsxs)("nav",{className:"navbar navbar-expand-md p-3",children:[Object(L.jsx)("div",{className:"navbar-brand ml-4",children:"Derictor F.I.O oynasi"}),Object(L.jsx)(F.b,{className:"ml-5 pl-5 pr-5 btn btn-light",to:"/admin",children:"ADMIN"}),Object(L.jsxs)("ul",{className:"navbar-nav",children:[Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(F.b,{className:"ml-5 pl-5 pr-5 btn btn-light",to:"/allProject",children:"Loyihalarga o'tish"})}),Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsxs)("button",{className:"btn btn-light ml-5",type:"button","data-toggle":"modal","data-target":"#creatProjectModal",onClick:function(){return t.projectStateClear()},children:["Yangi loyiha qo'shish",Object(L.jsx)("img",{src:"../images/plus-circle-solid.svg",className:"icon",alt:"ortga qaytish"})]})})]})]})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("table",{className:"table table-striped table-hover",children:[Object(L.jsx)("thead",{className:"thead-dark",children:Object(L.jsxs)("tr",{children:[Object(L.jsxs)("th",{children:["N",Object(L.jsx)("sup",{className:"mb-1 pt-1",children:"o"}),Object(L.jsx)("i",{className:"tartib-raqam",children:"-"})]}),Object(L.jsx)("th",{children:"Loyiha rahbari"}),Object(L.jsx)("th",{children:"Loyiha nomi"}),Object(L.jsx)("th",{children:"Bajaruvchilar"}),Object(L.jsx)("th",{children:"Loyiha vaqti"}),Object(L.jsx)("th",{children:"O'zgarishlar"})]})}),Object(L.jsx)("tbody",{children:e})]})}),this.state.project&&this.state.project.hasOwnProperty("id")&&Object(L.jsx)(H,{project:this.state.project}),Object(L.jsx)(Z,{})]})}}]),a}(s.Component),ee=Object(u.b)((function(e){return{projects:e.ProjectReducer.projects,token:e.auth.token}}),{getProjects:function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/uz/cas/project/all");case 3:a=e.sent,t({type:k,payload:a.data.body}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:v,payload:e.t0.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},deleteProject:B})($),te=a(29),ae=a(89),se=a(3),re={token:{},validToken:!1};var ce={};var ne={users:[],user:{}};var oe={};var ie={projects:[],project:{}};var le={projectProgress:{}};var je=a(92),de=a(90),he={key:"root",storage:a.n(de).a,whitelist:["auth"]},ue=Object(te.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(se.a)(Object(se.a)({},e),{},{token:t.payload,validToken:!!t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(se.a)(Object(se.a)({},e),{},{errors:t.payload});default:return e}},UsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(se.a)(Object(se.a)({},e),{},{users:t.payload});case N:return Object(se.a)(Object(se.a)({},e),{},{user:t.payload});default:return e}},MessageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(se.a)(Object(se.a)({},e),{},{message:t.payload});default:return e}},ProjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(se.a)(Object(se.a)({},e),{},{projects:t.payload});case C:return Object(se.a)(Object(se.a)({},e),{},{project:t.payload});default:return e}},ProgressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(se.a)(Object(se.a)({},e),{},{projectProgress:t.payload});default:return e}}}),pe=Object(je.a)(he,ue),be=[ae.a],me=Object(te.e)(pe,{},Object(te.d)(te.a.apply(void 0,be))),Oe=a(18),xe=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,s=Object(Oe.a)(e,["component","auth"]);return Object(L.jsx)(E.b,Object(se.a)(Object(se.a)({},s),{},{render:function(e){return!0===a.validToken?Object(L.jsx)(t,Object(se.a)({},e)):Object(L.jsx)(E.a,{to:"/"})}}))})),ve=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={id:"",firstName:"",lastName:"",job:"",username:"",password:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log(e),this.setState({id:e.user.id,firstName:e.user.firstName,lastName:e.user.lastName,job:e.user.job,username:e.user.username,password:e.user.hiddenPassword})}},{key:"onChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={firstName:this.state.firstName,lastName:this.state.lastName,job:this.state.job,username:this.state.username,password:this.state.password};this.props.editUser(t,this.props.history,this.state.id)}},{key:"render",value:function(){return Object(L.jsx)("div",{className:"modal",id:"userModal",children:Object(L.jsx)("div",{className:"modal-dialog",children:Object(L.jsxs)("div",{className:"modal-content",children:[Object(L.jsx)("div",{className:"modal-body",children:Object(L.jsxs)("form",{className:"m-5 register-form",children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",children:"Loyihalar Boshqaruvi"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"firstName",type:"text",onChange:this.onChange,placeholder:"Ismingiz",defaultValue:this.state.firstName})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"lastName",type:"text",onChange:this.onChange,placeholder:"Familiyangiz",defaultValue:this.state.lastName})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"job",type:"text",onChange:this.onChange,placeholder:"Lavozimingiz",defaultValue:this.state.job})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"username",type:"text",onChange:this.onChange,placeholder:"Login",defaultValue:this.state.username})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("input",{name:"password",type:"password",onChange:this.onChange,placeholder:"password",defaultValue:this.state.password})}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",type:"button","data-dismiss":"modal",onClick:this.onSubmit,children:"Ro'yhatdan o'tqazish"})]})}),Object(L.jsx)("div",{className:"modal-footer",children:Object(L.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})}}]),a}(s.Component),ge=Object(u.b)(null,{editUser:U})(ve),fe=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={users:[],user:{id:"",firstName:"",lastName:"",job:"",username:"",password:""}},e.deleteUser=e.deleteUser.bind(Object(h.a)(e)),e.onClick=e.onClick.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.token.role[0].roleName),"admin"!==this.props.token.role[0].roleName?this.props.history.push("/"):this.props.getUsers()}},{key:"deleteUser",value:function(e){console.log(e),this.props.deleteUser(e,this.props.history)}},{key:"onClick",value:function(e){this.setState({user:e})}},{key:"render",value:function(){var e,t=this,a=0;return this.props.users.length>0&&(e=this.props.users.map((function(e){return a+=1,Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:a}),Object(L.jsx)("td",{children:e.firstName}),Object(L.jsx)("td",{children:e.lastName}),Object(L.jsx)("td",{children:e.job}),Object(L.jsx)("td",{children:e.username}),Object(L.jsx)("td",{children:e.hiddenPassword}),Object(L.jsxs)("td",{children:[Object(L.jsxs)("button",{className:"btn btn-danger p-1 pl-3 mr-3 pr-3 text-light",onClick:function(){return t.deleteUser(e.id)},children:["Delete",Object(L.jsx)("img",{src:"../images/user-times-solid.svg",className:"icon",alt:"ortga qaytish"})]}),Object(L.jsxs)("button",{type:"button",className:"btn btn-warning p-1 pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#userModal",onClick:function(){return t.onClick(e)},children:["Edit ",Object(L.jsx)("img",{src:"../images/edit-regular.svg",className:"icon",alt:"ortga qaytish"})]})]})]},e.id)}))),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsx)("div",{className:"row derictor-navbar",children:Object(L.jsxs)("nav",{className:"navbar navbar-expand-md p-3",children:[Object(L.jsxs)("p",{className:"text-light ml-5 mt-2",children:[Object(L.jsxs)(F.b,{to:"/derictor",className:"bg-light pl-3 pr-3 p-2 mr-5 ortga",children:[Object(L.jsx)("img",{src:"../images/sign-in.png",className:"back-icon",alt:"ortga qaytish"})," ortga"]}),"ADMIN"]}),Object(L.jsx)("ul",{className:"navbar-nav",children:Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(F.b,{to:"/register",children:Object(L.jsxs)("button",{className:"btn btn-light",children:["Ro'hatdan o'tkazish ",Object(L.jsx)("img",{src:"../images/plus-circle-solid.svg",className:"back-icon",alt:"ortga qaytish"})]})})})})]})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("table",{className:"table table-striped table-hover",children:[Object(L.jsx)("thead",{className:"thead-dark",children:Object(L.jsxs)("tr",{children:[Object(L.jsxs)("th",{children:["N",Object(L.jsx)("sup",{className:"mb-1 pt-1",children:"o"}),Object(L.jsx)("i",{className:"tartib-raqam",children:"-"})]}),Object(L.jsx)("th",{children:"Ism"}),Object(L.jsx)("th",{children:"Familiya"}),Object(L.jsx)("th",{children:"Lavozim"}),Object(L.jsx)("th",{children:"Login"}),Object(L.jsx)("th",{children:"Parol"}),Object(L.jsx)("th",{children:"O'zgarishlar"})]})}),Object(L.jsx)("tbody",{children:e})]})}),Object(L.jsx)(ge,{user:this.state.user})]})}}]),a}(s.Component),ye=Object(u.b)((function(e){return{users:e.UsersReducer.users,user:e.UsersReducer.user,token:e.auth.token}}),{getUsers:T,deleteUser:function(e,t){return function(){var a=Object(m.a)(b.a.mark((function a(s){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z.delete("/uz/cas/user/".concat(e));case 3:r=a.sent,s({type:y,payload:r.data}),t.push("/admin"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),s({type:v,payload:a.t0.data});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getUser:function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.get("/uz/cas/user/".concat(e));case 3:s=t.sent,a({type:N,payload:s.data.body}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:v,payload:t.t0.data});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},editUser:U})(fe),Ne=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"user"!==this.props.token.role[0].roleName?this.props.history.push("/"):this.props.getProjectusername(this.props.token.username)}},{key:"onClick",value:function(e){this.props.history.push("/project/".concat(e))}},{key:"render",value:function(){var e,t=0,a=this.props.projects;return a!=={}&&(e=Array.isArray(a)?a.map((function(e){return t+=1,Object(L.jsxs)(F.b,{to:"/project/".concat(e.id),className:"row project-link",children:[Object(L.jsx)("div",{className:"col",children:t}),Object(L.jsx)("div",{className:"col",children:e.projectName}),Object(L.jsx)("div",{className:"col",children:e.projectCreated}),Object(L.jsx)("div",{className:"col",children:e.projectFinished})]},e.id)})):""),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsxs)("div",{className:"row user-navbar",children:[Object(L.jsx)("div",{className:"col m-3",children:Object(L.jsx)("h3",{className:"text-light",children:"Projects "})}),Object(L.jsx)("div",{className:"col"})]}),Object(L.jsx)("div",{className:"row bg-light p-4",children:Object(L.jsx)("div",{className:"col",children:e})})]})}}]),a}(s.Component),ke=Object(u.b)((function(e){return{token:e.auth.token,projects:e.ProjectReducer.projects}}),{getProjectusername:G})(Ne),Ce=function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,z.post("/uz/cas/progress/getPercent",e);case 4:s=t.sent,console.log(s),a({type:w,payload:s.data.body}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:v,payload:t.t0.data});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},we=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={comment:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"onChange",value:function(e){console.log(e.target.name),this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){console.log(this.props.userId,this.props.projectId);var e={comment:this.state.comment,projectId:this.props.projectId,userId:this.props.userId};this.props.addProgress(e)}},{key:"render",value:function(){return Object(L.jsx)("div",{className:"modal",id:"commentModal",children:Object(L.jsx)("div",{className:"modal-dialog",children:Object(L.jsxs)("div",{className:"modal-content",children:[Object(L.jsx)("div",{className:"modal-body",children:Object(L.jsxs)("form",{className:"m-5 register-form text-center",children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",children:"Loyihalar Boshqaruvi"})}),Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("textarea",{name:"comment",type:"text",onChange:this.onChange,placeholder:"Commentariya",className:"w-100 m-5",style:{minHeight:"150px"}})}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",type:"button","data-dismiss":"modal",onClick:this.onSubmit,children:"Ro'yhatdan o'tqazish"})]})}),Object(L.jsx)("div",{className:"modal-footer",children:Object(L.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})}}]),a}(s.Component),Pe=Object(u.b)(null,{addProgress:function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,z.post("/uz/cas/comment",e);case 4:s=t.sent,console.log(s),a({type:y,payload:s.data.body}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:v,payload:t.t0.data});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})(we),Se=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={percent:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"onChange",value:function(e){console.log(e.target.value),this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){console.log(this.props.percent);var e={percent:this.state.percent,projectId:this.props.projectId,userId:this.props.userId};this.props.addPercent(e)}},{key:"render",value:function(){return Object(L.jsx)("div",{className:"modal",id:"percentModal",children:Object(L.jsx)("div",{className:"modal-dialog w-50",children:Object(L.jsxs)("div",{className:"modal-content",children:[Object(L.jsx)("div",{className:"modal-body",children:Object(L.jsxs)("form",{className:"m-5 register-form text-center",children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",style:{marginLeft:"200px"},children:"Loyihalar Boshqaruvi"})}),Object(L.jsx)("div",{className:"row text-center",style:{marginLeft:"200px"},children:Object(L.jsx)("input",{name:"percent",type:"number",onChange:this.onChange,placeholder:"Commentariya",className:"w-50"})}),Object(L.jsx)("button",{className:"btn btn-success pl-5 pr-5 pt-2 pb-2",type:"button","data-dismiss":"modal",onClick:this.onSubmit,children:"Ro'yhatdan o'tqazish"})]})}),Object(L.jsx)("div",{className:"modal-footer",children:Object(L.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})}}]),a}(s.Component),qe=Object(u.b)(null,{addPercent:function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,x.a.post("https://architecture-manager-web.herokuapp.com/uz/cas/progress",e);case 4:s=t.sent,console.log(s),a({type:y,payload:s.data.body}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:v,payload:t.t0.data});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})(Se),ze=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={userid:""},e.onCilick=e.onCilick.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if("user"!==this.props.token.role[0].roleName)this.props.history.push("/");else{var e=this.props.match.params.id;console.log(e);var t={projectId:e};this.props.getProgress(t)}}},{key:"onCilick",value:function(e){this.setState({userid:e})}},{key:"render",value:function(){var e,t=this,a=0,s=this.props.project;return void 0!==s.usersList&&(e=Array.isArray(s.usersList)?s.usersList.map((function(e){return a+=1,Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:a}),Object(L.jsx)("td",{children:e.name}),Object(L.jsx)("td",{children:void 0!==e.comment?Object(L.jsx)("p",{className:"user-comment",children:e.comment}):Object(L.jsx)("div",{children:"Commentariya yo`q"})}),Object(L.jsx)("td",{children:s.projectCreated}),Object(L.jsx)("td",{children:s.projectFinished}),Object(L.jsx)("td",{style:{maxWidth:"100px"},children:Object(L.jsx)("div",{className:"progress",style:{height:"14px"},children:Object(L.jsxs)("div",{className:"progress-bar bg-success",style:{width:"".concat(e.userPercent,"%")},children:[e.userPercent,"%"]})})}),Object(L.jsxs)("td",{children:[e.username===t.props.token.username?Object(L.jsxs)("button",{className:"btn btn-danger mr-5 pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#commentModal",onClick:function(){return t.onCilick(e.id)},children:["Izoh",Object(L.jsx)("img",{src:"../images/edit-regular.svg",className:"icon",alt:"ortga qaytish"})]}):Object(L.jsxs)("button",{className:"btn btn-danger mr-5 pl-3 pr-3 text-light",disabled:!0,children:["Izoh",Object(L.jsx)("span",{className:"fas fa-edit "})]}),e.username===t.props.token.username?Object(L.jsxs)("button",{type:"button",className:"btn btn-warning  pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#percentModal",onClick:function(){return t.onCilick(e.id)},children:["Foiz qo'shish ",Object(L.jsx)("img",{src:"../images/plus-circle-solid.svg",className:"icon",alt:"ortga qaytish"})]}):Object(L.jsxs)("button",{type:"button",className:"btn btn-warning  pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#userModal",disabled:!0,children:["Foiz qo'shish ",Object(L.jsx)("img",{src:"../images/plus-circle-solid.svg",className:"icon",alt:"ortga qaytish"})]})]})]},e.id)})):""),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsxs)("div",{className:"row user-navbar",children:[Object(L.jsxs)("div",{className:"col m-3",children:[Object(L.jsxs)("p",{className:"text-light",children:["Loyiha nomi : ",this.props.project.projectName]}),Object(L.jsx)("div",{className:"progress",style:{height:"24px"},children:Object(L.jsxs)("div",{className:"progress-bar bg-warning",style:{width:"".concat(this.props.project.projectPercent,"%")},children:[this.props.project.projectPercent,"%"]})})]}),Object(L.jsx)("div",{className:"col"})]}),Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("table",{className:"table table-striped table-hover",children:[Object(L.jsx)("thead",{className:"thead-dark",children:Object(L.jsxs)("tr",{children:[Object(L.jsxs)("th",{children:["N",Object(L.jsx)("sup",{className:"mb-1 pt-1",children:"o"}),Object(L.jsx)("i",{className:"tartib-raqam",children:"-"})]}),Object(L.jsx)("th",{children:"Bajaruvchilar"}),Object(L.jsx)("th",{children:"Izohlar"}),Object(L.jsx)("th",{children:"Boshlanish vaqti"}),Object(L.jsx)("th",{children:"Tugash vaqti"}),Object(L.jsx)("th",{children:"Progrees bar "}),Object(L.jsx)("th",{children:"O'zgarishlar"})]})}),Object(L.jsx)("tbody",{children:e})]})}),Object(L.jsx)(Pe,{projectId:s.id,userId:this.state.userid}),Object(L.jsx)(qe,{projectId:s.id,userId:this.state.userid})]})}}]),a}(s.Component),Me=Object(u.b)((function(e){return{project:e.ProgressReducer.projectProgress,token:e.auth.token}}),{getProgress:Ce})(ze),Le=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={percent:""},e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"onSubmit",value:function(e){this.props.pushPercent(e)}},{key:"render",value:function(){var e,t=this,a=this.props.user;return console.log(a.progresses),void 0!==a.progresses&&(console.log(a.progresses),e=a.progresses.map((function(e){return Object(L.jsxs)("form",{className:"m-5 register-form text-center",children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsx)("h4",{className:"loyiha-boshqaruvi",style:{marginLeft:"200px"},children:"Loyihalar Boshqaruvi"})}),Object(L.jsx)("div",{className:"row text-center",style:{marginLeft:"200px"},children:Object(L.jsx)("span",{children:e.percent})}),Object(L.jsx)("button",{className:"btn btn-success pt-2 pb-2",type:"button","data-dismiss":"modal",onClick:function(){return t.onSubmit(e.id)},children:"Tasdiqlash"})]},e.id)}))),Object(L.jsx)("div",{className:"modal",id:"gipProjectModal",children:Object(L.jsx)("div",{className:"modal-dialog w-50",children:Object(L.jsxs)("div",{className:"modal-content",children:[Object(L.jsx)("div",{className:"modal-body",children:e}),Object(L.jsx)("div",{className:"modal-footer",children:Object(L.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Close"})})]})})})}}]),a}(s.Component),Re=Object(u.b)(null,{pushPercent:function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,x.a.get("https://architecture-manager-web.herokuapp.com/uz/cas/progress/add/".concat(e));case 4:s=t.sent,console.log(s),a({type:y,payload:s.data.body}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:v,payload:t.t0.data});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})(Le),Ie=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={user:{}},e.onCilick=e.onCilick.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;setInterval((function(){var a={projectId:t};e.props.getProgress(a)}),4e3)}},{key:"componentWillMount",value:function(){if("gip"!==this.props.token.role[0].roleName)this.props.history.push("/");else{var e={projectId:this.props.match.params.id};this.props.getProgress(e)}}},{key:"onCilick",value:function(e){this.setState({user:e})}},{key:"render",value:function(){var e,t=this,a=0,s=this.props.project;return void 0!==s.usersList&&(e=Array.isArray(s.usersList)?s.usersList.map((function(e){return a+=1,Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:a}),Object(L.jsx)("td",{children:e.name}),Object(L.jsx)("td",{children:void 0!==e.comment?Object(L.jsx)("p",{className:"user-comment",children:e.comment}):Object(L.jsx)("div",{children:"Commentariya yo`q"})}),Object(L.jsx)("td",{children:s.projectCreated}),Object(L.jsx)("td",{children:s.projectFinished}),Object(L.jsx)("td",{style:{maxWidth:"100px"},children:Object(L.jsx)("div",{className:"progress",style:{height:"14px"},children:Object(L.jsxs)("div",{className:"progress-bar bg-success",style:{width:"".concat(e.userPercent,"%")},children:[e.userPercent,"%"]})})}),Object(L.jsx)("td",{children:e.progresses.length>0?Object(L.jsx)("button",{className:"btn btn-danger mr-5 pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#gipProjectModal",onClick:function(){return t.onCilick(e)},children:"Tasdiqlash"}):Object(L.jsx)("button",{className:"btn btn-danger mr-5 pl-3 pr-3 text-light","data-toggle":"modal","data-target":"#gipProjectModal",onClick:function(){return t.onCilick(e)},disabled:!0,children:"Tasdiqlash"})})]},e.id)})):""),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsxs)("div",{className:"row user-navbar",children:[Object(L.jsxs)("div",{className:"col m-3",children:[Object(L.jsxs)("p",{className:"text-light",children:["Loyiha nomi : ",this.props.project.projectName]}),Object(L.jsx)("div",{className:"progress",style:{height:"24px"},children:Object(L.jsxs)("div",{className:"progress-bar bg-warning",style:{width:"".concat(this.props.project.projectPercent,"%")},children:[this.props.project.projectPercent,"%"]})})]}),Object(L.jsx)("div",{className:"col"})]}),Object(L.jsxs)("div",{className:"row",children:[Object(L.jsxs)("table",{className:"table table-striped table-hover",children:[Object(L.jsx)("thead",{className:"thead-dark",children:Object(L.jsxs)("tr",{children:[Object(L.jsxs)("th",{children:["N",Object(L.jsx)("sup",{className:"mb-1 pt-1",children:"o"}),Object(L.jsx)("i",{className:"tartib-raqam",children:"-"})]}),Object(L.jsx)("th",{children:"Bajaruvchilar"}),Object(L.jsx)("th",{children:"Izohlar"}),Object(L.jsx)("th",{children:"Boshlanish vaqti"}),Object(L.jsx)("th",{children:"Tugash vaqti"}),Object(L.jsx)("th",{children:"Progrees bar "}),Object(L.jsx)("th",{children:"O'zgarishlar"})]})}),Object(L.jsx)("tbody",{children:e})]}),Object(L.jsx)(Re,{user:this.state.user})]})]})}}]),a}(s.Component),Fe=Object(u.b)((function(e){return{project:e.ProgressReducer.projectProgress,token:e.auth.token}}),{getProgress:Ce})(Ie),Ee=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"gip"!==this.props.token.role[0].roleName?this.props.history.push("/"):this.props.getProjectusername(this.props.token.username)}},{key:"render",value:function(){var e,t=0,a=this.props.projects;return a!=={}&&(e=Array.isArray(a)?a.map((function(e){return t+=1,Object(L.jsxs)(F.b,{to:"/gip-project-manager/".concat(e.id),className:"row project-link",children:[Object(L.jsx)("div",{className:"col",children:t}),Object(L.jsx)("div",{className:"col",children:e.projectName}),Object(L.jsx)("div",{className:"col",children:e.projectCreated}),Object(L.jsx)("div",{className:"col",children:e.projectFinished})]},e.id)})):""),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsxs)("div",{className:"row user-navbar",children:[Object(L.jsx)("div",{className:"col m-3",children:Object(L.jsx)("h3",{className:"text-light",children:"Projects "})}),Object(L.jsx)("div",{className:"col"})]}),Object(L.jsx)("div",{className:"row bg-light p-4",children:Object(L.jsx)("div",{className:"col",children:e})})]})}}]),a}(s.Component),Te=Object(u.b)((function(e){return{token:e.auth.token,projects:e.ProjectReducer.projects}}),{getProjectusername:G})(Ee),Ue=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"admin"!==this.props.token.role[0].roleName?this.props.history.push("/"):this.props.getAllProject(this.props.token.username)}},{key:"render",value:function(){var e,t=0,a=this.props.projects;return a!=={}&&(e=Array.isArray(a)?a.map((function(e){return t+=1,Object(L.jsxs)(F.b,{to:"/gip-project-director/".concat(e.id),className:"row project-link",children:[Object(L.jsx)("div",{className:"col",children:t}),Object(L.jsx)("div",{className:"col",children:e.projectName}),Object(L.jsx)("div",{className:"col",children:e.projectCreated}),Object(L.jsx)("div",{className:"col",children:e.projectFinished}),Object(L.jsx)("div",{className:"col",children:Object(L.jsx)("div",{className:"progress",style:{height:"14px"},children:Object(L.jsxs)("div",{className:(e.projectStatus,"progress-bar bg-success"),style:{width:"".concat(e.projectPercent,"%")},children:[e.projectPercent,"%"]})})})]},e.id)})):""),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsxs)("div",{className:"row user-navbar",children:[Object(L.jsx)("div",{className:"col m-3",children:Object(L.jsx)("h3",{className:"text-light",children:"Projects "})}),Object(L.jsx)("div",{className:"col"})]}),Object(L.jsx)("div",{className:"row bg-light p-4",children:Object(L.jsx)("div",{className:"col",children:e})})]})}}]),a}(s.Component),Ae=Object(u.b)((function(e){return{token:e.auth.token,projects:e.ProjectReducer.projects}}),{getAllProject:function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("https://architecture-manager-web.herokuapp.com/uz/cas/project/all");case 3:a=e.sent,t({type:k,payload:a.data.body}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:v,payload:e.t0.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(Ue),De=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={user:{}},e.onCilick=e.onCilick.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if("admin"!==this.props.token.role[0].roleName)this.props.history.push("/");else{var e={projectId:this.props.match.params.id};this.props.getProgress(e)}}},{key:"onCilick",value:function(e){this.setState({user:e})}},{key:"render",value:function(){var e,t=0,a=this.props.project;return void 0!==a.usersList&&(e=Array.isArray(a.usersList)?a.usersList.map((function(e){return t+=1,Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:t}),Object(L.jsx)("td",{children:e.name}),Object(L.jsx)("td",{children:void 0!==e.comment?Object(L.jsx)("p",{className:"user-comment",children:e.comment}):Object(L.jsx)("div",{children:"Commentariya yo`q"})}),Object(L.jsx)("td",{children:a.projectCreated}),Object(L.jsx)("td",{children:a.projectFinished}),Object(L.jsx)("td",{style:{maxWidth:"100px"},children:Object(L.jsx)("div",{className:"progress",style:{height:"14px"},children:Object(L.jsxs)("div",{className:"progress-bar bg-success",style:{width:"".concat(e.userPercent,"%")},children:[e.userPercent,"%"]})})})]},e.id)})):""),Object(L.jsxs)("div",{className:"container-fuild",children:[Object(L.jsxs)("div",{className:"row user-navbar",children:[Object(L.jsxs)("div",{className:"col m-3",children:[Object(L.jsxs)("p",{className:"text-light",children:["Loyiha nomi : ",this.props.project.projectName]}),Object(L.jsx)("div",{className:"progress",style:{height:"24px"},children:Object(L.jsxs)("div",{className:"progress-bar bg-warning",style:{width:"".concat(this.props.project.projectPercent,"%")},children:[this.props.project.projectPercent,"%"]})})]}),Object(L.jsx)("div",{className:"col"})]}),Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("table",{className:"table table-striped table-hover",children:[Object(L.jsx)("thead",{className:"thead-dark",children:Object(L.jsxs)("tr",{children:[Object(L.jsxs)("th",{children:["N",Object(L.jsx)("sup",{className:"mb-1 pt-1",children:"o"}),Object(L.jsx)("i",{className:"tartib-raqam",children:"-"})]}),Object(L.jsx)("th",{children:"Bajaruvchilar"}),Object(L.jsx)("th",{children:"Izohlar"}),Object(L.jsx)("th",{children:"Boshlanish vaqti"}),Object(L.jsx)("th",{children:"Tugash vaqti"}),Object(L.jsx)("th",{children:"Progrees bar "})]})}),Object(L.jsx)("tbody",{children:e})]})})]})}}]),a}(s.Component),Be=Object(u.b)((function(e){return{project:e.ProgressReducer.projectProgress,token:e.auth.token}}),{getProgress:Ce})(De),Ge=localStorage.jwtToken;if(Ge){S(Ge);var Ye=Object(P.a)(Ge);me.dispatch({type:g,payload:Ye})}var Ve=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(L.jsx)(u.a,{store:me,children:Object(L.jsxs)(F.a,{children:[Object(L.jsx)(E.b,{exact:!0,path:"/",component:I}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/register",component:D})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/derictor",component:ee})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/admin",component:ye})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/users",component:ke})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/project/:id",component:Me})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/gip-project-manager/:id",component:Fe})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/gipProject",component:Te})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/allProject",component:Ae})}),Object(L.jsx)(E.d,{children:Object(L.jsx)(xe,{exact:!0,path:"/gip-project-director/:id",component:Be})})]})})}}]),a}(s.Component);n.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(Ve,{})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.06eab9cc.chunk.js.map